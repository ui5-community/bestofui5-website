sap.ui.define(["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.registerUI5Element=e.getEffectiveAriaLabelText=e.getAssociatedLabelForTexts=e.getAllAccessibleNameRefTexts=e.deregisterUI5Element=void 0;const t=new WeakMap;const s=new WeakMap;const c={attributes:true,childList:true,characterData:true,subtree:true};const n=e=>{const t=e;if(!t.accessibleNameRef){if(t.accessibleName){return t.accessibleName}return undefined}return o(e)};e.getEffectiveAriaLabelText=n;const o=e=>{const t=e.accessibleNameRef?.split(" ")??[];const s=e.getRootNode();let c="";t.forEach((e,n)=>{const o=s.querySelector(`[id='${e}']`);const r=`${o&&o.textContent?o.textContent:""}`;if(r){c+=r;if(n<t.length-1){c+=" "}}});return c};e.getAllAccessibleNameRefTexts=o;const r=e=>{const t=new Set;const s=a(e);s.forEach(e=>{t.add(e)});const c=e["accessibleNameRef"];const n=c?.split(" ")??[];n.forEach(s=>{const c=l(e,s);if(c){t.add(c)}});return Array.from(t)};const a=e=>{const t=e.getRootNode().querySelectorAll(`[for="${e.id}"]`);return Array.from(t)};const l=(e,t)=>e.getRootNode().querySelector(`[id='${t}']`);const i=e=>{const t=[];const s=a(e);s.forEach(e=>{const s=e.textContent;s&&t.push(s)});if(t.length){return t.join(" ")}return undefined};e.getAssociatedLabelForTexts=i;const f=e=>{const t=t=>{if(!(t&&t.type==="property"&&t.name==="accessibleNameRef")){return}const c=s.get(e);if(!c){return}const n=c.observedElements;const o=r(e);n.forEach(e=>{if(!o.includes(e)){u(c,e)}});o.forEach(e=>{if(!n.includes(e)){b(c,e);c.observedElements.push(e)}});c?.callback()};return t};const d=(e,t)=>{if(s.has(e)){return}const c=r(e);const n=f(e);const o={host:e,observedElements:c,callback:t,invalidationCallback:n};s.set(e,o);e.attachInvalidate(n);c.forEach(e=>{b(o,e)});t()};e.registerUI5Element=d;const b=(e,s)=>{let n=t.get(s);if(!n){n={observer:null,callbacks:[]};const o=new MutationObserver(()=>{const t=n.callbacks;t.forEach(e=>{e()});const c=document.getElementById(s.id);if(!(e.host.id===s.getAttribute("for")||c)){u(e,s)}});n.observer=o;o.observe(s,c);t.set(s,n)}if(!n.callbacks.includes(e.callback)){n.callbacks.push(e.callback)}};const u=(e,s)=>{const c=t.get(s);if(c){c.callbacks=c.callbacks.filter(t=>t!==e.callback);if(!c.callbacks.length){c.observer?.disconnect();t.delete(s)}}e.observedElements=e.observedElements.filter(e=>e!==s)};const m=e=>{const t=s.get(e);if(!t){return}const c=[...t.observedElements];c.forEach(e=>{u(t,e)});e.detachInvalidate(t.invalidationCallback);s.delete(e)};e.deregisterUI5Element=m});
//# sourceMappingURL=AriaLabelHelper.js.map