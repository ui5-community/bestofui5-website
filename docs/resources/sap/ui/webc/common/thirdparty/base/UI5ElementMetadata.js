sap.ui.define(["exports","./util/StringHelper","./util/SlotsHelper","./CustomElementsScopeUtils"],function(t,e,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;class i{constructor(t){this.metadata=t}getInitialState(){if(Object.prototype.hasOwnProperty.call(this,"_initialState")){return this._initialState}const t={};const e=this.slotsAreManaged();const r=this.getProperties();for(const e in r){const a=r[e].type;const i=r[e].defaultValue;if(a===Boolean){t[e]=false;if(i!==undefined){console.warn("The 'defaultValue' metadata key is ignored for all booleans properties, they would be initialized with 'false' by default")}}else if(r[e].multiple){t[e]=[]}else if(a===Object){t[e]="defaultValue"in r[e]?r[e].defaultValue:{}}else if(a===String){t[e]="defaultValue"in r[e]?r[e].defaultValue:""}else{t[e]=i}}if(e){const e=this.getSlots();for(const[r,a]of Object.entries(e)){const e=a.propertyName||r;t[e]=[]}}this._initialState=t;return t}static validatePropertyValue(t,e){const r=e.multiple;if(r&&t){return t.map(t=>s(t,e))}return s(t,e)}static validateSlotValue(t,e){return o(t,e)}getPureTag(){return this.metadata.tag||""}getTag(){const t=this.metadata.tag;if(!t){return""}const e=(0,a.getEffectiveScopingSuffixForTag)(t);if(!e){return t}return`${t}-${e}`}hasAttribute(t){const e=this.getProperties()[t];return e.type!==Object&&!e.noAttribute&&!e.multiple}getPropertiesList(){return Object.keys(this.getProperties())}getAttributesList(){return this.getPropertiesList().filter(this.hasAttribute.bind(this)).map(e.camelToKebabCase)}canSlotText(){const t=this.getSlots().default;return t&&t.type===Node}hasSlots(){return!!Object.entries(this.getSlots()).length}hasIndividualSlots(){return this.slotsAreManaged()&&Object.values(this.getSlots()).some(t=>t.individualSlots)}slotsAreManaged(){return!!this.metadata.managedSlots}supportsF6FastNavigation(){return!!this.metadata.fastNavigation}getProperties(){if(!this.metadata.properties){this.metadata.properties={}}return this.metadata.properties}getEvents(){if(!this.metadata.events){this.metadata.events={}}return this.metadata.events}getSlots(){if(!this.metadata.slots){this.metadata.slots={}}return this.metadata.slots}isLanguageAware(){return!!this.metadata.languageAware}isThemeAware(){return!!this.metadata.themeAware}shouldInvalidateOnChildChange(t,e,r){const a=this.getSlots()[t].invalidateOnChildChange;if(a===undefined){return false}if(typeof a==="boolean"){return a}if(typeof a==="object"){if(e==="property"){if(a.properties===undefined){return false}if(typeof a.properties==="boolean"){return a.properties}if(Array.isArray(a.properties)){return a.properties.includes(r)}throw new Error("Wrong format for invalidateOnChildChange.properties: boolean or array is expected")}if(e==="slot"){if(a.slots===undefined){return false}if(typeof a.slots==="boolean"){return a.slots}if(Array.isArray(a.slots)){return a.slots.includes(r)}throw new Error("Wrong format for invalidateOnChildChange.slots: boolean or array is expected")}}throw new Error("Wrong format for invalidateOnChildChange: boolean or object is expected")}}const s=(t,e)=>{const r=e.type;let a=e.validator;if(r&&r.isDataTypeClass){a=r}if(a){return a.isValid(t)?t:e.defaultValue}if(!r||r===String){return typeof t==="string"||typeof t==="undefined"||t===null?t:t.toString()}if(r===Boolean){return typeof t==="boolean"?t:false}if(r===Object){return typeof t==="object"?t:e.defaultValue}return t in r?t:e.defaultValue};const o=(t,e)=>{t&&(0,r.getSlottedNodes)(t).forEach(t=>{if(!(t instanceof e.type)){throw new Error(`The element is not of type ${e.type.toString()}`)}});return t};var n=i;t.default=n});
//# sourceMappingURL=UI5ElementMetadata.js.map