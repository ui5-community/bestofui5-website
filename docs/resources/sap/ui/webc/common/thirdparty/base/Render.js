sap.ui.define(["exports","./EventProvider","./RenderQueue","./CustomElementsRegistry","./locale/RTLAwareRegistry"],function(e,n,t,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.renderImmediately=e.renderFinished=e.renderDeferred=e.reRenderAllUI5Elements=e.detachBeforeComponentRender=e.cancelRender=e.attachBeforeComponentRender=void 0;n=o(n);t=o(t);function o(e){return e&&e.__esModule?e:{default:e}}const d=new Set;const s=new n.default;const i=new t.default;let c,l;let m;let f;const u=async e=>{i.add(e);await g()};e.renderDeferred=u;const w=e=>{s.fireEvent("beforeComponentRender",e);d.add(e);e._render()};e.renderImmediately=w;const R=e=>{i.remove(e);d.delete(e)};e.cancelRender=R;const g=async()=>{if(!f){f=new Promise(e=>{window.requestAnimationFrame(()=>{i.process(w);f=null;e();if(!m){m=setTimeout(()=>{m=undefined;if(i.isEmpty()){A()}},200)}})})}await f};const p=()=>{if(c){return c}c=new Promise(e=>{l=e;window.requestAnimationFrame(()=>{if(i.isEmpty()){c=undefined;e()}})});return c};const h=()=>{const e=(0,r.getAllRegisteredTags)().map(e=>customElements.whenDefined(e));return Promise.all(e)};const y=async()=>{await h();await p()};e.renderFinished=y;const A=()=>{if(!i.isEmpty()){return}if(l){l();l=undefined;c=undefined}};const E=async e=>{d.forEach(n=>{const t=n.constructor;const r=t.getMetadata().getTag();const o=(0,a.isRtlAware)(t);const d=t.getMetadata().isLanguageAware();const s=t.getMetadata().isThemeAware();if(!e||e.tag===r||e.rtlAware&&o||e.languageAware&&d||e.themeAware&&s){u(n)}});await y()};e.reRenderAllUI5Elements=E;const v=e=>{s.attachEvent("beforeComponentRender",e)};e.attachBeforeComponentRender=v;const C=e=>{s.detachEvent("beforeComponentRender",e)};e.detachBeforeComponentRender=C});
//# sourceMappingURL=Render.js.map