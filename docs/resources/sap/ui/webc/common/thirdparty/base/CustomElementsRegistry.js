sap.ui.define(["exports","./getSharedResource","./Runtimes"],function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.registerTag=e.recordTagRegistrationFailure=e.isTagRegistered=e.getAllRegisteredTags=void 0;t=i(t);function i(e){return e&&e.__esModule?e:{default:e}}const s=(0,t.default)("Tags",new Map);const o=new Set;let r=new Map;let a;const d=-1;const c=e=>{o.add(e);s.set(e,(0,n.getCurrentRuntimeIndex)())};e.registerTag=c;const u=e=>o.has(e);e.isTagRegistered=u;const l=()=>[...o.values()];e.getAllRegisteredTags=l;const g=e=>{let t=s.get(e);if(t===undefined){t=d}if(!r.has(t)){r.set(t,new Set)}r.get(t).add(e);if(!a){a=setTimeout(()=>{f();r=new Map;a=undefined},1e3)}};e.recordTagRegistrationFailure=g;const f=()=>{const e=(0,n.getAllRuntimes)();const t=(0,n.getCurrentRuntimeIndex)();const i=e[t];let s=`Multiple UI5 Web Components instances detected.`;if(e.length>1){s=`${s}\nLoading order (versions before 1.1.0 not listed): ${e.map(e=>`\n${e.description}`).join("")}`}[...r.keys()].forEach(o=>{let a;let c;if(o===d){a=1;c={description:`Older unknown runtime`}}else{a=(0,n.compareRuntimes)(t,o);c=e[o]}let u;if(a>0){u="an older"}else if(a<0){u="a newer"}else{u="the same"}s=`${s}\n\n"${i.description}" failed to define ${r.get(o).size} tag(s) as they were defined by a runtime of ${u} version "${c.description}": ${[...r.get(o)].sort().join(", ")}.`;if(a>0){s=`${s}\nWARNING! If your code uses features of the above web components, unavailable in ${c.description}, it might not work as expected!`}else{s=`${s}\nSince the above web components were defined by the same or newer version runtime, they should be compatible with your code.`}});s=`${s}\n\nTo prevent other runtimes from defining tags that you use, consider using scoping or have third-party libraries use scoping: https://github.com/SAP/ui5-webcomponents/blob/main/docs/2-advanced/03-scoping.md.`;console.warn(s)}});
//# sourceMappingURL=CustomElementsRegistry.js.map