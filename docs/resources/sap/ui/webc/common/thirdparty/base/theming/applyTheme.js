sap.ui.define(["exports","../asset-registries/Themes","../ManagedStyles","./getThemeDesignerTheme","./ThemeLoaded","../FeaturesRegistry","../config/ThemeRoot","../generated/AssetParameters","../Runtimes"],function(e,t,a,s,r,i,n,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;s=u(s);function u(e){return e&&e.__esModule?e:{default:e}}const m="@ui5/webcomponents-theming";const d=()=>{const e=(0,t.getRegisteredPackages)();return e.has(m)};const p=async e=>{if(!d()){return}const s=await(0,t.getThemeProperties)(m,e);if(s){(0,a.createOrUpdateStyle)(s,"data-ui5-theme-properties",m)}};const g=()=>{(0,a.removeStyle)("data-ui5-theme-properties",m)};const h=async e=>{const s=(0,t.getRegisteredPackages)();const r=[...s].map(async s=>{if(s===m){return}const r=await(0,t.getThemeProperties)(s,e);if(r){(0,a.createOrUpdateStyle)(r,`data-ui5-component-properties-${(0,c.getCurrentRuntimeIndex)()}`,s)}});return Promise.all(r)};const f=async e=>{const t=(0,s.default)();if(t){return t}const a=(0,i.getFeature)("OpenUI5Support");if(a&&a.isOpenUI5Detected()){const e=a.cssVariablesLoaded();if(e){return{themeName:a.getConfigurationSettingsObject()?.theme,baseThemeName:""}}}else if((0,sap.ui.require("sap/ui/webc/common/thirdparty/base/config/ThemeRoot").getThemeRoot)()){await(0,sap.ui.require("sap/ui/webc/common/thirdparty/base/config/ThemeRoot").attachCustomThemeStylesToHead)(e);return(0,s.default)()}};const l=async e=>{const a=await f(e);if(!a||e!==a.themeName){await p(e)}else{g()}const s=(0,t.isThemeRegistered)(e)?e:a&&a.baseThemeName;await h(s||o.DEFAULT_THEME);(0,r.fireThemeLoaded)(e)};var T=l;e.default=T});
//# sourceMappingURL=applyTheme.js.map