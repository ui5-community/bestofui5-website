sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/decorators/event","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/decorators/slot","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/types/Integer","sap/ui/webc/common/thirdparty/base/types/ValueState","sap/ui/webc/main/thirdparty/types/ListItemType","sap/ui/webc/main/thirdparty/Button","sap/ui/webc/main/thirdparty/Input","sap/ui/webc/main/thirdparty/Label","sap/ui/webc/main/thirdparty/Link","sap/ui/webc/main/thirdparty/ProgressIndicator","sap/ui/webc/main/thirdparty/ListItem","sap/ui/webc/common/thirdparty/base/util/getFileExtension","sap/ui/webc/common/thirdparty/base/Render","sap/ui/webc/common/thirdparty/base/Keys","./types/UploadState","sap/ui/webc/common/thirdparty/icons/refresh","sap/ui/webc/common/thirdparty/icons/stop","sap/ui/webc/common/thirdparty/icons/edit","./generated/i18n/i18n-defaults","./generated/templates/UploadCollectionItemTemplate.lit","./generated/themes/UploadCollectionItem.css"],function(e,t,i,a,o,n,r,u,l,s,d,p,c,f,h,m,y,_,T,g,E,b,B,w,O){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=R(t);i=R(i);a=R(a);o=R(o);r=R(r);u=R(u);l=R(l);s=R(s);d=R(d);p=R(p);c=R(c);f=R(f);h=R(h);m=R(m);T=R(T);w=R(w);O=R(O);function R(e){return e&&e.__esModule?e:{default:e}}var I=void 0&&(void 0).__decorate||function(e,t,i,a){var o=arguments.length,n=o<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,i):a,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,i,a);else for(var u=e.length-1;u>=0;u--)if(r=e[u])n=(o<3?r(n):o>3?r(t,i,n):r(t,i))||n;return o>3&&n&&Object.defineProperty(t,i,n),n};var v;let C=v=class e extends h.default{static async onDefine(){[v.i18nFioriBundle]=await Promise.all([(0,n.getI18nBundle)("@ui5/webcomponents-fiori"),super.onDefine()])}async onDetailClick(){super.onDetailClick();this._editing=true;await this._initInputField()}async _initInputField(){await(0,y.renderFinished)();const e=this.shadowRoot.querySelector("#ui5-uci-edit-input");e.value=this._fileNameWithoutExtension;await(0,y.renderFinished)();const t=e.getFocusDomRef();if(t){t.focus();t.setSelectionRange(0,this._fileNameWithoutExtension.length)}}_onDetailKeyup(e){if((0,_.isSpace)(e)){this.onDetailClick()}}_onInputFocusin(e){e.stopPropagation()}_onInputKeyDown(e){if((0,_.isEscape)(e)){this._onRenameCancel(e)}else if((0,_.isEnter)(e)){this._onRename()}else if((0,_.isSpace)(e)){e.stopImmediatePropagation()}}_onRename(){const e=this.shadowRoot.querySelector("#ui5-uci-edit-input");this.fileName=e.value+this._fileExtension;this.fireEvent("rename");this._editing=false;this._focus()}_onRenameKeyup(e){if((0,_.isSpace)(e)){this._onRename()}}async _onRenameCancel(e){this._editing=false;if((0,_.isEscape)(e)){await(0,y.renderFinished)();this.shadowRoot.querySelector(`#${this._id}-editing-button`).focus()}else{this._focus()}}_onRenameCancelKeyup(e){if((0,_.isSpace)(e)){this._onRenameCancel(e)}}_focus(){this.fireEvent("_focus-requested")}_onFileNameClick(){this.fireEvent("file-name-click")}_onRetry(){this.fireEvent("retry")}_onRetryKeyup(e){if((0,_.isSpace)(e)){this._onRetry()}}_onTerminate(){this.fireEvent("terminate")}_onTerminateKeyup(e){if((0,_.isSpace)(e)){this._onTerminate()}}_onDelete(){this.fireEvent("_uci-delete")}getFocusDomRef(){return this.getDomRef()}get classes(){const e=super.classes;return{main:{...e.main,"ui5-uci-root":true,"ui5-uci-root-editing":this._editing,"ui5-uci-root-uploading":this.uploadState===T.default.Uploading}}}get renderUploadCollectionDeleteButton(){return!this.hideDeleteButton}get _fileNameWithoutExtension(){return this.fileName.substring(0,this.fileName.length-this._fileExtension.length)}get _fileExtension(){return(0,m.default)(this.fileName)}get _renameBtnText(){return v.i18nFioriBundle.getText(B.UPLOADCOLLECTIONITEM_RENAMEBUTTON_TEXT)}get _cancelRenameBtnText(){return v.i18nFioriBundle.getText(B.UPLOADCOLLECTIONITEM_CANCELBUTTON_TEXT)}get _showProgressIndicator(){return this.uploadState!==T.default.Complete}get _progressText(){if(this.uploadState===T.default.Uploading){return v.i18nFioriBundle.getText(B.UPLOADCOLLECTIONITEM_UPLOADING_STATE)}if(this.uploadState===T.default.Error){return v.i18nFioriBundle.getText(B.UPLOADCOLLECTIONITEM_ERROR_STATE)}return v.i18nFioriBundle.getText(B.UPLOADCOLLECTIONITEM_READY_STATE)}get _showRetry(){return!this.hideRetryButton&&this.uploadState===T.default.Error}get _showTerminate(){return!this.hideTerminateButton&&this.uploadState===T.default.Uploading}get _retryButtonTooltip(){return v.i18nFioriBundle.getText(B.UPLOADCOLLECTIONITEM_RETRY_BUTTON_TEXT)}get _terminateButtonTooltip(){return v.i18nFioriBundle.getText(B.UPLOADCOLLECTIONITEM_TERMINATE_BUTTON_TEXT)}get _editButtonTooltip(){return v.i18nFioriBundle.getText(B.UPLOADCOLLECTIONITEM_EDIT_BUTTON_TEXT)}get valueStateName(){if(this.uploadState===T.default.Error){return u.default.Error}if(this.uploadState===T.default.Ready||this.uploadState===T.default.Uploading){return u.default.Information}return u.default.None}get typeDetail(){return false}get showEditButton(){return this.type===l.default.Detail}};I([(0,a.default)({type:Object,noAttribute:true,defaultValue:null})],C.prototype,"file",void 0);I([(0,a.default)()],C.prototype,"fileName",void 0);I([(0,a.default)({type:Boolean})],C.prototype,"fileNameClickable",void 0);I([(0,a.default)({type:Boolean,noAttribute:false})],C.prototype,"disableDeleteButton",void 0);I([(0,a.default)({type:Boolean})],C.prototype,"hideDeleteButton",void 0);I([(0,a.default)({type:Boolean})],C.prototype,"hideRetryButton",void 0);I([(0,a.default)({type:Boolean})],C.prototype,"hideTerminateButton",void 0);I([(0,a.default)({validator:r.default,defaultValue:0})],C.prototype,"progress",void 0);I([(0,a.default)({type:T.default,defaultValue:T.default.Ready})],C.prototype,"uploadState",void 0);I([(0,a.default)({type:Boolean})],C.prototype,"_editing",void 0);I([(0,o.default)({type:HTMLElement})],C.prototype,"thumbnail",void 0);C=v=I([(0,t.default)({tag:"ui5-upload-collection-item",languageAware:true,styles:[h.default.styles,O.default],template:w.default,dependencies:[...h.default.dependencies,s.default,d.default,c.default,p.default,f.default]}),(0,i.default)("file-name-click"),(0,i.default)("rename"),(0,i.default)("terminate"),(0,i.default)("retry"),(0,i.default)("_focus-requested"),(0,i.default)("_uci-delete")],C);C.define();var L=C;e.default=L});
//# sourceMappingURL=UploadCollectionItem.js.map