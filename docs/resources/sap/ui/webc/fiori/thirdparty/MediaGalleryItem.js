sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/Device","sap/ui/webc/main/thirdparty/Icon","sap/ui/webc/common/thirdparty/icons/background","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/decorators/slot","./types/MediaGalleryItemLayout","./generated/themes/MediaGalleryItem.css","./generated/templates/MediaGalleryItemTemplate.lit"],function(t,e,i,n,o,a,r,s,u,l,d,h,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;e=p(e);i=p(i);a=p(a);s=p(s);u=p(u);l=p(l);d=p(d);h=p(h);c=p(c);function p(t){return t&&t.__esModule?t:{default:t}}var m=void 0&&(void 0).__decorate||function(t,e,i,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)if(r=t[s])a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a;return o>3&&a&&Object.defineProperty(e,i,a),a};let _=class t extends e.default{constructor(){super();this._monitoredContent=null;this._monitoredThumbnail=null}onEnterDOM(){this._thumbnailDesign=!(0,o.isPhone)();this._interactive=!(0,o.isPhone)();this._square=true}get _thumbnail(){return this.thumbnail.length?this.thumbnail[0]:null}get _content(){return this.content.length?this.content[0]:null}get _isThubmnailAvailable(){return this._thumbnail&&!this._thumbnailNotFound}get _isContentAvailable(){return this._content&&!this._contentImageNotFound}get _useThumbnail(){return this._thumbnailDesign&&this._isThubmnailAvailable}get _useContent(){return!this._useThumbnail&&this._isContentAvailable}get effectiveTabIndex(){return this.disabled?undefined:this._tabIndex}get _showBackgroundIcon(){return this._thumbnailNotFound||this._contentImageNotFound}get styles(){return{wrapper:{height:this.contentHeight}}}get _role(){return this._interactive?"button":undefined}onBeforeRendering(){this._monitorLoadingError()}_monitorLoadingError(){let t,e;if(this._thumbnailDesign&&this.thumbnail.length&&this._monitoredThumbnail!==this._thumbnail){this._thumbnailNotFound=false;t=this._updateThumbnailLoaded.bind(this);e=this._attachListeners(this._thumbnail,t);e&&(this._monitoredThumbnail=this._thumbnail)}if(!this._useThumbnail&&this.content.length&&this._monitoredContent!==this._content){this._contentImageNotFound=false;t=this._updateContentImageLoaded.bind(this);e=this._attachListeners(this._content,t);e&&(this._monitoredContent=this._content)}}_attachListeners(t,e){const i=t.tagName==="IMG",n=i?t:t.querySelector("img");if(n){e(n);n.addEventListener("error",()=>{if(this.contains(n)){e(n)}});n.addEventListener("load",()=>{if(this.contains(n)){e(n)}});return true}}_updateContentImageLoaded(t){this._contentImageNotFound=t.naturalHeight===0&&t.naturalWidth===0}_updateThumbnailLoaded(t){this._thumbnailNotFound=t.naturalHeight===0&&t.naturalWidth===0}_onkeydown(t){if((0,n.isSpace)(t)){t.preventDefault()}if((0,n.isEnter)(t)){this._fireItemClick()}}_onkeyup(t){if((0,n.isSpace)(t)){this._fireItemClick()}}_onfocusout(){this.focused=false}_onfocusin(){this.focused=true}_fireItemClick(){this.fireEvent("click",{item:this})}};m([(0,u.default)({type:Boolean})],_.prototype,"selected",void 0);m([(0,u.default)({type:Boolean})],_.prototype,"disabled",void 0);m([(0,u.default)({type:d.default,defaultValue:d.default.Square})],_.prototype,"layout",void 0);m([(0,u.default)({type:Boolean})],_.prototype,"_interactive",void 0);m([(0,u.default)({type:Boolean})],_.prototype,"_square",void 0);m([(0,u.default)({type:Boolean})],_.prototype,"_contentImageNotFound",void 0);m([(0,u.default)({type:Boolean})],_.prototype,"_thumbnailNotFound",void 0);m([(0,u.default)({type:Boolean})],_.prototype,"_thumbnailDesign",void 0);m([(0,u.default)({type:Boolean})],_.prototype,"focused",void 0);m([(0,u.default)()],_.prototype,"_tabIndex",void 0);m([(0,u.default)({noAttribute:true})],_.prototype,"contentHeight",void 0);m([(0,l.default)({type:HTMLElement,default:true})],_.prototype,"content",void 0);m([(0,l.default)()],_.prototype,"thumbnail",void 0);_=m([(0,s.default)({tag:"ui5-media-gallery-item",renderer:i.default,styles:h.default,template:c.default,dependencies:[a.default]})],_);_.define();var f=_;t.default=f});
//# sourceMappingURL=MediaGalleryItem.js.map