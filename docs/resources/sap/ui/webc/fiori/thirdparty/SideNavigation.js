sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/main/thirdparty/ResponsivePopover","sap/ui/webc/common/thirdparty/base/decorators/event","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/decorators/slot","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/main/thirdparty/List","sap/ui/webc/main/thirdparty/StandardListItem","sap/ui/webc/main/thirdparty/Tree","sap/ui/webc/main/thirdparty/TreeItem","./SideNavigationItem","./SideNavigationSubItem","./generated/templates/SideNavigationTemplate.lit","./generated/templates/SideNavigationPopoverTemplate.lit","./generated/i18n/i18n-defaults","./generated/themes/SideNavigation.css","./generated/themes/SideNavigationPopover.css"],function(e,t,i,a,s,r,n,o,d,c,l,u,m,p,f,h,I,_,g,v){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=y(t);i=y(i);a=y(a);s=y(s);r=y(r);n=y(n);o=y(o);c=y(c);l=y(l);u=y(u);m=y(m);p=y(p);f=y(f);h=y(h);I=y(I);g=y(g);v=y(v);function y(e){return e&&e.__esModule?e:{default:e}}var S=void 0&&(void 0).__decorate||function(e,t,i,a){var s=arguments.length,r=s<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,i):a,n;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)if(n=e[o])r=(s<3?n(r):s>3?n(t,i,r):n(t,i))||r;return s>3&&r&&Object.defineProperty(t,i,r),r};var T;let E=T=class e extends t.default{constructor(){super(...arguments);this._createTreeItem=e=>({item:e,selected:e.items.some(e=>e.selected)&&this.collapsed||e.selected})}get _items(){return this.items.map(this._createTreeItem)}get _fixedItems(){return this.fixedItems.map(this._createTreeItem)}_setSelectedItem(e){if(!this.fireEvent("selection-change",{item:e},true)){return}this._walk(e=>{e.selected=false});e.selected=true}_buildPopoverContent(e){this._popoverContents={mainItem:e,mainItemSelected:e.selected&&!e.items.some(e=>e.selected),selectedSubItemIndex:e.items.findIndex(e=>e.selected)+1,subItems:e.items}}async _onAfterOpen(){const e=await this.getPickerTree();const t=this._popoverContents.selectedSubItemIndex;e.focusItemByIndex(t)}get accSideNavigationPopoverHiddenText(){return T.i18nBundle.getText(_.SIDE_NAVIGATION_POPOVER_HIDDEN_TEXT)}get ariaRoleDescNavigationList(){let e=_.SIDE_NAVIGATION_LIST_ARIA_ROLE_DESC;if(this.collapsed){e=_.SIDE_NAVIGATION_COLLAPSED_LIST_ARIA_ROLE_DESC}return T.i18nBundle.getText(e)}get ariaRoleDescNavigationListItem(){let e=_.SIDE_NAVIGATION_LIST_ITEMS_ARIA_ROLE_DESC;if(this.collapsed){e=_.SIDE_NAVIGATION_COLLAPSED_LIST_ITEMS_ARIA_ROLE_DESC}return T.i18nBundle.getText(e)}handleTreeItemClick(e){const t=e.detail.item;const i=t.associatedItem;if(i instanceof p.default&&!i.wholeItemToggleable){i.fireEvent("click")}else if(i instanceof f.default){i.fireEvent("click")}else{i.expanded=!i.expanded}if(i.selected&&!this.collapsed){return}if(this.collapsed&&i instanceof p.default&&i.items.length){this._buildPopoverContent(i);let a=this._itemsTree;if(a!==e.target){a=this._fixedItemsTree}this.openPicker(a._getListItemForTreeItem(t))}else if(!i.selected){this._setSelectedItem(i)}}handleInnerSelectionChange(e){const t=e.detail.item;const{associatedItem:i}=t;i.fireEvent("click");if(i.selected){return}this._setSelectedItem(i);this.closePicker()}async getPicker(){return(await this.getStaticAreaItemDomRef()).querySelector("[ui5-responsive-popover]")}async openPicker(e){const t=await this.getPicker();t.showAt(e)}async closePicker(){const e=await this.getPicker();e.close()}async getPickerTree(){const e=await this.getPicker();const t=e.querySelector("[ui5-side-navigation]");return t._itemsTree}get hasHeader(){return!!this.header.length}get showHeader(){return this.hasHeader&&!this.collapsed}get _itemsTree(){return this.getDomRef().querySelector("#ui5-sn-items-tree")}get _fixedItemsTree(){return this.getDomRef().querySelector("#ui5-sn-fixed-items-tree")}_walk(e){this.items.forEach(t=>{e(t);t.items.forEach(t=>{e(t)})});this.fixedItems.forEach(t=>{e(t);t.items.forEach(t=>{e(t)})})}static async onDefine(){[T.i18nBundle]=await Promise.all([(0,d.getI18nBundle)("@ui5/webcomponents-fiori"),super.onDefine()])}};S([(0,n.default)({type:Boolean})],E.prototype,"collapsed",void 0);S([(0,n.default)({type:Object})],E.prototype,"_popoverContents",void 0);S([(0,o.default)({type:HTMLElement,invalidateOnChildChange:true,default:true})],E.prototype,"items",void 0);S([(0,o.default)()],E.prototype,"header",void 0);S([(0,o.default)({type:HTMLElement,invalidateOnChildChange:true})],E.prototype,"fixedItems",void 0);E=T=S([(0,i.default)({tag:"ui5-side-navigation",fastNavigation:true,renderer:a.default,template:h.default,staticAreaTemplate:I.default,styles:g.default,staticAreaStyles:v.default,dependencies:[c.default,l.default,u.default,m.default,s.default,p.default,f.default]}),(0,r.default)("selection-change",{detail:{item:{type:HTMLElement}}})],E);E.define();var b=E;e.default=b});
//# sourceMappingURL=SideNavigation.js.map