sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/decorators/event","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/util/AriaLabelHelper","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/types/Integer","sap/ui/webc/common/thirdparty/base/types/Float","./generated/i18n/i18n-defaults","./generated/templates/RatingIndicatorTemplate.lit","./Icon","sap/ui/webc/common/thirdparty/icons/favorite","sap/ui/webc/common/thirdparty/icons/unfavorite","./generated/themes/RatingIndicator.css"],function(e,t,a,i,s,o,r,l,n,u,d,c,f,h,p,v,y){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=b(t);a=b(a);i=b(i);s=b(s);o=b(o);u=b(u);d=b(d);f=b(f);h=b(h);y=b(y);function b(e){return e&&e.__esModule?e:{default:e}}var m=void 0&&(void 0).__decorate||function(e,t,a,i){var s=arguments.length,o=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,a):i,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,a,i);else for(var l=e.length-1;l>=0;l--)if(r=e[l])o=(s<3?r(o):s>3?r(t,a,o):r(t,a))||o;return s>3&&o&&Object.defineProperty(t,a,o),o};var g;let _=g=class e extends s.default{static async onDefine(){g.i18nBundle=await(0,n.getI18nBundle)("@ui5/webcomponents")}constructor(){super()}onBeforeRendering(){this.calcState()}calcState(){this._stars=[];for(let e=1;e<this.max+1;e++){const t=Math.round((this.value-Math.floor(this.value))*10);let a=false,i=this.value;if(Math.floor(this.value)+1===e&&t>2&&t<8){a=true}else if(t<=2){i=Math.floor(this.value)}else if(t>=8){i=Math.ceil(this.value)}this._stars.push({selected:e<=i,index:e,halfStar:a})}}_onclick(e){const t=e.target;if(!(t instanceof HTMLElement)||this.disabled||this.readonly){return}const a=t.getAttribute("data-ui5-value");if(a!==null){this.value=parseInt(a);if(this.value===1&&this._liveValue===1){this.value=0}if(this._liveValue!==this.value){this.fireEvent("change");this._liveValue=this.value}}}_onkeydown(e){if(this.disabled||this.readonly){return}const t=(0,r.isDown)(e)||(0,r.isLeft)(e);const a=(0,r.isRight)(e)||(0,r.isUp)(e);const i=(0,r.isSpace)(e)||(0,r.isEnter)(e);const s=(0,r.isHome)(e);const o=(0,r.isEnd)(e);const l=e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105;if(t||a||i||s||o||l){e.preventDefault();if(t&&this.value>0){this.value=Math.round(this.value-1)}else if(a&&this.value<this.max){this.value=Math.round(this.value+1)}else if(i){const e=Math.round(this.value+1);this.value=e>this.max?0:e}else if(s){this.value=0}else if(o){this.value=this.max}else if(l){const t=parseInt(e.key);this.value=t>this.max?this.max:t}this.fireEvent("change")}}_onfocusin(){if(this.disabled){return}this._focused=true;this._liveValue=this.value}_onfocusout(){this._focused=false}get effectiveTabIndex(){const e=this.getAttribute("tabindex");return this.disabled?"-1":e||"0"}get tooltip(){return this.getAttribute("title")||this.defaultTooltip}get defaultTooltip(){return g.i18nBundle.getText(c.RATING_INDICATOR_TOOLTIP_TEXT)}get _ariaRoleDescription(){return g.i18nBundle.getText(c.RATING_INDICATOR_TEXT)}get _ariaDisabled(){return this.disabled||undefined}get _ariaLabel(){return(0,l.getEffectiveAriaLabelText)(this)}get _ariaDescription(){return this.required?g.i18nBundle.getText(c.RATING_INDICATOR_ARIA_DESCRIPTION):undefined}get ariaReadonly(){return this.readonly?"true":undefined}};m([(0,i.default)({validator:d.default,defaultValue:0})],_.prototype,"value",void 0);m([(0,i.default)({validator:u.default,defaultValue:5})],_.prototype,"max",void 0);m([(0,i.default)({type:Boolean})],_.prototype,"disabled",void 0);m([(0,i.default)({type:Boolean})],_.prototype,"readonly",void 0);m([(0,i.default)()],_.prototype,"accessibleName",void 0);m([(0,i.default)({defaultValue:""})],_.prototype,"accessibleNameRef",void 0);m([(0,i.default)({type:Boolean})],_.prototype,"required",void 0);m([(0,i.default)({type:Object,multiple:true})],_.prototype,"_stars",void 0);m([(0,i.default)({type:Boolean})],_.prototype,"_focused",void 0);_=g=m([(0,t.default)({tag:"ui5-rating-indicator",languageAware:true,renderer:o.default,styles:y.default,template:f.default,dependencies:[h.default]}),(0,a.default)("change")],_);_.define();var I=_;e.default=I});
//# sourceMappingURL=RatingIndicator.js.map