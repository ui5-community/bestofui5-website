sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/decorators/slot","sap/ui/webc/common/thirdparty/base/decorators/event","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/delegate/ResizeHandler","sap/ui/webc/common/thirdparty/base/Render","sap/ui/webc/common/thirdparty/base/Keys","./generated/templates/AvatarTemplate.lit","./generated/i18n/i18n-defaults","./generated/themes/Avatar.css","./Icon","./types/AvatarSize","./types/AvatarShape","./types/AvatarColorScheme","sap/ui/webc/common/thirdparty/icons/employee","sap/ui/webc/common/thirdparty/icons/alert"],function(e,t,i,a,r,s,o,n,l,d,u,c,p,f,h,y,v,m,b,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=g(t);i=g(i);a=g(a);r=g(r);s=g(s);o=g(o);l=g(l);c=g(c);f=g(f);h=g(h);y=g(y);v=g(v);m=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var k=void 0&&(void 0).__decorate||function(e,t,i,a){var r=arguments.length,s=r<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,i):a,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)if(o=e[n])s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s;return r>3&&s&&Object.defineProperty(t,i,s),s};var I;let w=I=class e extends t.default{constructor(){super();this._handleResizeBound=this.handleResize.bind(this)}static async onDefine(){I.i18nBundle=await(0,n.getI18nBundle)("@ui5/webcomponents")}get tabindex(){return this._tabIndex||(this._interactive?"0":"-1")}get _effectiveSize(){return this.getAttribute("size")||this._size}get _effectiveBackgroundColor(){return this.getAttribute("color-scheme")||this._colorScheme}get _role(){return this._interactive?"button":undefined}get _ariaHasPopup(){return this._getAriaHasPopup()}get _fallbackIcon(){if(this.fallbackIcon===""){this.fallbackIcon="employee"}return this.fallbackIcon}get _interactive(){return this.interactive&&!this.disabled}get validInitials(){const e=/^[a-zA-Zà-üÀ-Ü]{1,3}$/,t=this.initials&&e.test(this.initials);if(t){return this.initials}return null}get accessibleNameText(){if(this.accessibleName){return this.accessibleName}return I.i18nBundle.getText(p.AVATAR_TOOLTIP)||undefined}get hasImage(){this._hasImage=!!this.image.length;return this._hasImage}get initialsContainer(){return this.getDomRef().querySelector(".ui5-avatar-initials")}onBeforeRendering(){this._onclick=this._interactive?this._onClickHandler.bind(this):undefined}async onAfterRendering(){await(0,d.renderFinished)();if(this.initials&&!this.icon){this._checkInitials()}}onEnterDOM(){this.initialsContainer&&l.default.register(this.initialsContainer,this._handleResizeBound)}onExitDOM(){this.initialsContainer&&l.default.deregister(this.initialsContainer,this._handleResizeBound)}handleResize(){if(this.initials&&!this.icon){this._checkInitials()}}_checkInitials(){const e=this.getDomRef(),t=e.querySelector(".ui5-avatar-initials");if(!this.validInitials){t.classList.add("ui5-avatar-initials-hidden");return}t&&t.classList.remove("ui5-avatar-initials-hidden");if(this.initials&&this.initials.length===3){if(t&&t.scrollWidth>e.scrollWidth){t.classList.add("ui5-avatar-initials-hidden")}}}_onClickHandler(e){e.stopPropagation();this._fireClick()}_onkeydown(e){if(!this._interactive){return}if((0,u.isEnter)(e)){this._fireClick()}if((0,u.isSpace)(e)){e.preventDefault()}}_onkeyup(e){if(this._interactive&&!e.shiftKey&&(0,u.isSpace)(e)){this._fireClick()}}_fireClick(){this.fireEvent("click");this.pressed=!this.pressed}_onfocusout(){this.focused=false}_onfocusin(){if(this._interactive){this.focused=true}}_getAriaHasPopup(){if(!this._interactive||this.ariaHaspopup===""){return}return this.ariaHaspopup}};k([(0,a.default)({type:Boolean})],w.prototype,"disabled",void 0);k([(0,a.default)({type:Boolean})],w.prototype,"interactive",void 0);k([(0,a.default)({type:Boolean})],w.prototype,"focused",void 0);k([(0,a.default)({type:Boolean})],w.prototype,"pressed",void 0);k([(0,a.default)()],w.prototype,"icon",void 0);k([(0,a.default)()],w.prototype,"fallbackIcon",void 0);k([(0,a.default)()],w.prototype,"initials",void 0);k([(0,a.default)({type:v.default,defaultValue:v.default.Circle})],w.prototype,"shape",void 0);k([(0,a.default)({type:y.default,defaultValue:y.default.S})],w.prototype,"size",void 0);k([(0,a.default)({type:y.default,defaultValue:y.default.S})],w.prototype,"_size",void 0);k([(0,a.default)({type:m.default,defaultValue:m.default.Accent6})],w.prototype,"colorScheme",void 0);k([(0,a.default)({type:m.default,defaultValue:m.default.Accent6})],w.prototype,"_colorScheme",void 0);k([(0,a.default)()],w.prototype,"accessibleName",void 0);k([(0,a.default)()],w.prototype,"ariaHaspopup",void 0);k([(0,a.default)({noAttribute:true})],w.prototype,"_tabIndex",void 0);k([(0,a.default)({type:Boolean})],w.prototype,"_hasImage",void 0);k([(0,r.default)({type:HTMLElement,default:true})],w.prototype,"image",void 0);k([(0,r.default)()],w.prototype,"badge",void 0);w=I=k([(0,i.default)({tag:"ui5-avatar",languageAware:true,renderer:o.default,styles:f.default,template:c.default,dependencies:[h.default]}),(0,s.default)("click")],w);w.define();var A=w;e.default=A});
//# sourceMappingURL=Avatar.js.map