sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/decorators/event","sap/ui/webc/common/thirdparty/base/decorators/slot","sap/ui/webc/common/thirdparty/base/delegate/ItemNavigation","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/CustomElementsScope","sap/ui/webc/common/thirdparty/base/Keys","./generated/i18n/i18n-defaults","./SegmentedButtonItem","./types/SegmentedButtonMode","./generated/templates/SegmentedButtonTemplate.lit","./generated/themes/SegmentedButton.css"],function(e,t,s,i,n,a,o,r,d,l,c,u,m,p,h,f){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=g(t);s=g(s);i=g(i);n=g(n);a=g(a);o=g(o);r=g(r);m=g(m);p=g(p);h=g(h);f=g(f);function g(e){return e&&e.__esModule?e:{default:e}}var y=void 0&&(void 0).__decorate||function(e,t,s,i){var n=arguments.length,a=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,s):i,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(e,t,s,i);else for(var r=e.length-1;r>=0;r--)if(o=e[r])a=(n<3?o(a):n>3?o(t,s,a):o(t,s))||a;return n>3&&a&&Object.defineProperty(t,s,a),a};var I;let b=I=class e extends t.default{static async onDefine(){I.i18nBundle=await(0,d.getI18nBundle)("@ui5/webcomponents")}constructor(){super();this._itemNavigation=new o.default(this,{getItemsCallback:()=>this.getSlottedNodes("items")});this.hasPreviouslyFocusedItem=false}onBeforeRendering(){const e=this.getSlottedNodes("items");e.forEach((e,t,s)=>{e.posInSet=t+1;e.sizeOfSet=s.length});this.normalizeSelection();this.style.setProperty((0,l.getScopedVarName)("--_ui5_segmented_btn_items_count"),`${e.length}`)}normalizeSelection(){switch(this.mode){case p.default.SingleSelect:{const e=this.selectedItems;const t=this._selectedItem?e.indexOf(this._selectedItem):-1;if(this._selectedItem&&e.length>1){e.splice(t,1)}const s=e.pop()||this.items[0];this._applySingleSelection(s);break}default:}}_selectItem(e){const t=e.target;const s=t.hasAttribute("ui5-segmented-button-item");if(t.disabled||t===this.getDomRef()||!s){return}switch(this.mode){case p.default.MultiSelect:if(e instanceof KeyboardEvent){t.pressed=!t.pressed}break;default:this._applySingleSelection(t)}this.fireEvent("selection-change",{selectedItem:t,selectedItems:this.selectedItems});this._itemNavigation.setCurrentItem(t);t.focus();return this}_applySingleSelection(e){this.items.forEach(e=>{e.pressed=false});e.pressed=true;this._selectedItem=e}_onclick(e){this._selectItem(e)}_onkeydown(e){if((0,c.isEnter)(e)){this._selectItem(e)}else if((0,c.isSpace)(e)){e.preventDefault()}}_onkeyup(e){if((0,c.isSpace)(e)){this._selectItem(e)}}_onmousedown(e){const t=e.target;const s=t.hasAttribute("ui5-segmented-button-item");if(s){t.focus();this._itemNavigation.setCurrentItem(t);this.hasPreviouslyFocusedItem=true}}_onfocusin(e){if(this.hasPreviouslyFocusedItem){this._itemNavigation.setCurrentItem(e.target);return}if(this.selectedItems.length){this.selectedItems[0].focus();this._itemNavigation.setCurrentItem(this.selectedItems[0]);this.hasPreviouslyFocusedItem=true}}get selectedItem(){return this._selectedItem}get selectedItems(){return this.items.filter(e=>e.pressed)}get ariaDescribedBy(){return I.i18nBundle.getText(u.SEGMENTEDBUTTON_ARIA_DESCRIBEDBY)}get ariaDescription(){return I.i18nBundle.getText(u.SEGMENTEDBUTTON_ARIA_DESCRIPTION)}};y([(0,i.default)({defaultValue:undefined})],b.prototype,"accessibleName",void 0);y([(0,i.default)({type:p.default,defaultValue:p.default.SingleSelect})],b.prototype,"mode",void 0);y([(0,a.default)({type:HTMLElement,invalidateOnChildChange:true,default:true})],b.prototype,"items",void 0);b=I=y([(0,s.default)({tag:"ui5-segmented-button",languageAware:true,renderer:r.default,template:h.default,styles:f.default,dependencies:[m.default]}),(0,n.default)("selection-change",{detail:{selectedItem:{type:HTMLElement},selectedItems:{type:Array}}})],b);b.define();var _=b;e.default=_});
//# sourceMappingURL=SegmentedButton.js.map