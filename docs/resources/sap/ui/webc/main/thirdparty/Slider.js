sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/types/Float","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/Keys","./SliderBase","./Icon","./generated/templates/SliderTemplate.lit","./generated/i18n/i18n-defaults"],function(t,e,i,s,a,n,r,o,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;e=u(e);i=u(i);s=u(s);r=u(r);o=u(o);l=u(l);function u(t){return t&&t.__esModule?t:{default:t}}var h=void 0&&(void 0).__decorate||function(t,e,i,s){var a=arguments.length,n=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,i):s,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)if(r=t[o])n=(a<3?r(n):a>3?r(e,i,n):r(e,i))||n;return a>3&&n&&Object.defineProperty(e,i,n),n};var c;let f=c=class t extends r.default{constructor(){super();this._progressPercentage=0;this._handlePositionFromStart=0;this._stateStorage.value=undefined}onBeforeRendering(){if(!this.isCurrentStateOutdated()){return}this.notResized=true;this.syncUIAndState();this._updateHandleAndProgress(this.value)}syncUIAndState(){if(this.isPropertyUpdated("step")){this._validateStep(this.step);this.storePropertyState("step")}if(this.isPropertyUpdated("min","max","value")){this.storePropertyState("min","max");this.value=r.default.clipValue(this.value,this._effectiveMin,this._effectiveMax);this.updateStateStorageAndFireInputEvent("value");this.storePropertyState("value")}if(this.labelInterval&&this.showTickmarks){this._createLabels()}if(this.isPropertyUpdated("labelInterval")){this.storePropertyState("labelInterval")}}_onmousedown(t){if(this.disabled||this.step===0){return}const e=this.handleDownBase(t);this._valueOnInteractionStart=this.value;if(this._valueInitial===undefined){this._valueInitial=this.value}const i=this.constructor;if(!this._isHandlePressed(i.getPageXValueFromEvent(t))){this._updateHandleAndProgress(e);this.value=e;this.updateStateStorageAndFireInputEvent("value")}}_onfocusin(){if(this._valueInitial===undefined){this._valueInitial=this.value}if(this.showTooltip){this._tooltipVisibility=r.default.TOOLTIP_VISIBILITY.VISIBLE}}_onfocusout(){if(this._isFocusing()){this._preventFocusOut();return}this._valueInitial=undefined;if(this.showTooltip){this._tooltipVisibility=r.default.TOOLTIP_VISIBILITY.HIDDEN}}_handleMove(t){t.preventDefault();if(this.disabled||this._effectiveStep===0){return}const e=this.constructor;const i=e.getValueFromInteraction(t,this._effectiveStep,this._effectiveMin,this._effectiveMax,this.getBoundingClientRect(),this.directionStart);this._updateHandleAndProgress(i);this.value=i;this.updateStateStorageAndFireInputEvent("value")}_handleUp(){if(this._valueOnInteractionStart!==this.value){this.fireEvent("change")}this.handleUpBase();this._valueOnInteractionStart=undefined}_isHandlePressed(t){const e=this._sliderHandle.getBoundingClientRect();return t>=e.left&&t<=e.right}_updateHandleAndProgress(t){const e=this._effectiveMax;const i=this._effectiveMin;this._progressPercentage=(t-i)/(e-i);this._handlePositionFromStart=this._progressPercentage*100}_handleActionKeyPress(t){const e=this._effectiveMin;const i=this._effectiveMax;const s=this.value;const a=this.constructor;const r=(0,n.isEscape)(t)?this._valueInitial:a.clipValue(this._handleActionKeyPressBase(t,"value")+s,e,i);if(r!==s){this._updateHandleAndProgress(r);this.value=r;this.updateStateStorageAndFireInputEvent("value")}}get styles(){return{progress:{transform:`scaleX(${this._progressPercentage})`,"transform-origin":`${this.directionStart} top`},handle:{[this.directionStart]:`${this._handlePositionFromStart}%`},label:{width:`${this._labelWidth}%`},labelContainer:{width:`100%`,[this.directionStart]:`-${this._labelWidth/2}%`},tooltip:{visibility:`${this._tooltipVisibility}`}}}get _sliderHandle(){return this.shadowRoot.querySelector(".ui5-slider-handle")}get tooltipValue(){const t=this.constructor;const e=t._getDecimalPrecisionOfNumber(this._effectiveStep);return this.value.toFixed(e)}get _ariaDisabled(){return this.disabled||undefined}get _ariaLabelledByText(){return c.i18nBundle.getText(d.SLIDER_ARIA_DESCRIPTION)}static async onDefine(){c.i18nBundle=await(0,a.getI18nBundle)("@ui5/webcomponents")}get tickmarksObject(){const t=this._tickmarksCount;const e=[];if(this._hiddenTickmarks){return[true,false]}for(let i=0;i<=t;i++){e.push(this._effectiveMin+i*this.step<=this.value)}return e}};h([(0,i.default)({validator:s.default,defaultValue:0})],f.prototype,"value",void 0);f=c=h([(0,e.default)({tag:"ui5-slider",languageAware:true,template:l.default,dependencies:[o.default]})],f);f.define();var p=f;t.default=p});
//# sourceMappingURL=Slider.js.map