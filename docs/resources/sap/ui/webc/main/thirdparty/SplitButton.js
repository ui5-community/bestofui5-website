sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/decorators/event","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/decorators/slot","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/MarkedEvents","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/icons/slim-arrow-down","./types/ButtonDesign","./Button","./generated/i18n/i18n-defaults","./generated/templates/SplitButtonTemplate.lit","./generated/themes/SplitButton.css"],function(t,e,i,s,o,a,r,n,u,d,c,l,p,f,h,_){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;e=B(e);i=B(i);s=B(s);o=B(o);a=B(a);d=B(d);l=B(l);p=B(p);h=B(h);_=B(_);function B(t){return t&&t.__esModule?t:{default:t}}var b=void 0&&(void 0).__decorate||function(t,e,i,s){var o=arguments.length,a=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,i):s,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)if(r=t[n])a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a;return o>3&&a&&Object.defineProperty(e,i,a),a};var v;let y=v=class t extends e.default{static async onDefine(){v.i18nBundle=await(0,n.getI18nBundle)("@ui5/webcomponents")}constructor(){super();const t=()=>{this._textButtonActive=true;this.focused=false;this._setTabIndexValue()};this._textButtonPress={handleEvent:t,passive:true}}onBeforeRendering(){this._textButtonIcon=this.textButton&&this.activeIcon!==""&&this._textButtonActive&&!this._shiftOrEscapePressed?this.activeIcon:this.icon;if(this.disabled){this._tabIndex="-1"}}_onFocusOut(t){if(this.disabled||(0,u.getEventMark)(t)){return}this._shiftOrEscapePressed=false;this.focused=false;this._setTabIndexValue()}_onFocusIn(t){if(this.disabled||(0,u.getEventMark)(t)){return}this._shiftOrEscapePressed=false;this.focused=true}_onKeyDown(t){if((0,r.isDown)(t)||(0,r.isUp)(t)||(0,r.isDownAlt)(t)||(0,r.isUpAlt)(t)||(0,r.isF4)(t)){t.preventDefault();this._arrowButtonActive=true;this._fireArrowClick()}else if((0,r.isSpace)(t)||(0,r.isEnter)(t)){t.preventDefault();this._textButtonActive=true;if((0,r.isEnter)(t)){this._fireClick()}else{this._spacePressed=true}}if(this._spacePressed&&((0,r.isEscape)(t)||(0,r.isShift)(t))){this._shiftOrEscapePressed=true;this._textButtonActive=false}this._setTabIndexValue()}_onKeyUp(t){if((0,r.isDown)(t)||(0,r.isUp)(t)||(0,r.isDownAlt)(t)||(0,r.isUpAlt)(t)||(0,r.isF4)(t)){this._arrowButtonActive=false}else if((0,r.isSpace)(t)||(0,r.isEnter)(t)){this._textButtonActive=false;if((0,r.isSpace)(t)){t.preventDefault();t.stopPropagation();this._fireClick();this._spacePressed=false}}this._setTabIndexValue()}_fireClick(t){t?.stopPropagation();if(!this._shiftOrEscapePressed){this.fireEvent("click")}this._shiftOrEscapePressed=false}_fireArrowClick(t){t?.stopPropagation();this.fireEvent("arrow-click")}_textButtonRelease(){this._textButtonActive=false;this._textButtonIcon=this.textButton&&this.activeIcon!==""&&this._textButtonActive&&!this._shiftOrEscapePressed?this.activeIcon:this.icon;this._setTabIndexValue()}_setTabIndexValue(){const t=this.textButton,e=this.arrowButton,i=t&&(t.focused||t.active)||e&&(e.focused||e.active);this._tabIndex=this.disabled||i?"-1":"0"}get textButtonAccText(){return this.textContent}get isTextButton(){return!!this.textContent}get textButton(){return this.getDomRef()?.querySelector(".ui5-split-text-button")}get arrowButton(){return this.getDomRef()?.querySelector(".ui5-split-arrow-button")}get accessibilityInfo(){return{ariaExpanded:this._splitButtonAccInfo&&this._splitButtonAccInfo.ariaExpanded,ariaHaspopup:this._splitButtonAccInfo&&this._splitButtonAccInfo.ariaHaspopup,description:v.i18nBundle.getText(f.SPLIT_BUTTON_DESCRIPTION),keyboardHint:v.i18nBundle.getText(f.SPLIT_BUTTON_KEYBOARD_HINT)}}get ariaLabelText(){return[v.i18nBundle.getText(f.SPLIT_BUTTON_DESCRIPTION),v.i18nBundle.getText(f.SPLIT_BUTTON_KEYBOARD_HINT)].join(" ")}};b([(0,o.default)()],y.prototype,"icon",void 0);b([(0,o.default)()],y.prototype,"activeIcon",void 0);b([(0,o.default)({type:l.default,defaultValue:l.default.Default})],y.prototype,"design",void 0);b([(0,o.default)({type:Boolean})],y.prototype,"disabled",void 0);b([(0,o.default)({defaultValue:undefined})],y.prototype,"accessibleName",void 0);b([(0,o.default)({type:Boolean})],y.prototype,"focused",void 0);b([(0,o.default)({type:Object})],y.prototype,"_splitButtonAccInfo",void 0);b([(0,o.default)({defaultValue:"0",noAttribute:true})],y.prototype,"_tabIndex",void 0);b([(0,o.default)({type:Boolean,noAttribute:true})],y.prototype,"_spacePressed",void 0);b([(0,o.default)({type:Boolean,noAttribute:true})],y.prototype,"_shiftOrEscapePressed",void 0);b([(0,o.default)({type:Boolean,noAttribute:true})],y.prototype,"_textButtonActive",void 0);b([(0,o.default)({noAttribute:true})],y.prototype,"_textButtonIcon",void 0);b([(0,o.default)({type:Boolean,noAttribute:true})],y.prototype,"_arrowButtonActive",void 0);b([(0,a.default)({type:Node,default:true})],y.prototype,"text",void 0);y=v=b([(0,i.default)({tag:"ui5-split-button",renderer:d.default,styles:_.default,template:h.default,dependencies:[p.default]}),(0,s.default)("click"),(0,s.default)("arrow-click")],y);y.define();var x=y;t.default=x});
//# sourceMappingURL=SplitButton.js.map