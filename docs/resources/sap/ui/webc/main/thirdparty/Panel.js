sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/decorators/event","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/decorators/slot","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/animations/slideDown","sap/ui/webc/common/thirdparty/base/animations/slideUp","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/types/AnimationMode","sap/ui/webc/common/thirdparty/base/config/AnimationMode","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/icons/slim-arrow-right","./Button","./Icon","./types/TitleLevel","./types/PanelAccessibleRole","./generated/templates/PanelTemplate.lit","./generated/i18n/i18n-defaults","./generated/themes/Panel.css"],function(e,t,a,i,n,o,r,s,d,l,u,c,h,p,f,g,m,b,y,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=x(t);a=x(a);i=x(i);n=x(n);o=x(o);r=x(r);s=x(s);d=x(d);u=x(u);f=x(f);g=x(g);m=x(m);b=x(b);y=x(y);_=x(_);function x(e){return e&&e.__esModule?e:{default:e}}var B=void 0&&(void 0).__decorate||function(e,t,a,i){var n=arguments.length,o=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,a):i,r;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,a,i);else for(var s=e.length-1;s>=0;s--)if(r=e[s])o=(n<3?r(o):n>3?r(t,a,o):r(t,a))||o;return n>3&&o&&Object.defineProperty(t,a,o),o};var A;let w=A=class e extends t.default{onBeforeRendering(){if(!this._animationRunning){this._contentExpanded=!this.collapsed}this._hasHeader=!!this.header.length}shouldToggle(e){const t=this.header.length;if(t){return e.classList.contains("ui5-panel-header-button")}return true}shouldNotAnimate(){return this.noAnimation||(0,c.getAnimationMode)()===u.default.None}_headerClick(e){if(!this.shouldToggle(e.target)){return}this._toggleOpen()}_toggleButtonClick(e){if(e.x===0&&e.y===0){e.stopImmediatePropagation()}}_headerKeyDown(e){if(!this.shouldToggle(e.target)){return}if((0,l.isEnter)(e)){e.preventDefault()}if((0,l.isSpace)(e)){e.preventDefault()}}_headerKeyUp(e){if(!this.shouldToggle(e.target)){return}if((0,l.isEnter)(e)){this._toggleOpen()}if((0,l.isSpace)(e)){this._toggleOpen()}}_toggleOpen(){if(this.fixed){return}this.collapsed=!this.collapsed;if(this.shouldNotAnimate()){this.fireEvent("toggle");return}this._animationRunning=true;const e=this.getDomRef().querySelectorAll(".ui5-panel-content");const t=[];[].forEach.call(e,e=>{if(this.collapsed){t.push((0,d.default)(e).promise())}else{t.push((0,s.default)(e).promise())}});Promise.all(t).then(()=>{this._animationRunning=false;this._contentExpanded=!this.collapsed;this.fireEvent("toggle")})}_headerOnTarget(e){return e.classList.contains("sapMPanelWrappingDiv")}get classes(){return{headerBtn:{"ui5-panel-header-button-animated":!this.shouldNotAnimate()},stickyHeaderClass:{"ui5-panel-heading-wrapper-sticky":this.stickyHeader}}}get toggleButtonTitle(){return A.i18nBundle.getText(v.PANEL_ICON)}get expanded(){return!this.collapsed}get accRole(){return this.accessibleRole.toLowerCase()}get effectiveAccessibleName(){return typeof this.accessibleName==="string"&&this.accessibleName.length?this.accessibleName:undefined}get accInfo(){return{button:{accessibilityAttributes:{expanded:this.expanded},title:this.toggleButtonTitle,ariaLabelButton:!this.nonFocusableButton&&this.useAccessibleNameForToggleButton?this.effectiveAccessibleName:undefined},ariaExpanded:this.nonFixedInternalHeader?this.expanded:undefined,ariaControls:this.nonFixedInternalHeader?`${this._id}-content`:undefined,ariaLabelledby:this.nonFocusableButton?this.ariaLabelledbyReference:undefined,role:this.nonFixedInternalHeader?"button":undefined}}get ariaLabelledbyReference(){return this.nonFocusableButton&&this.headerText&&!this.fixed?`${this._id}-header-title`:undefined}get fixedPanelAriaLabelledbyReference(){return this.fixed&&!this.effectiveAccessibleName?`${this._id}-header-title`:undefined}get headerAriaLevel(){return this.headerLevel.slice(1)}get headerTabIndex(){return this.header.length||this.fixed?"-1":"0"}get headingWrapperAriaLevel(){return!this._hasHeader?this.headerAriaLevel:undefined}get headingWrapperRole(){return!this._hasHeader?"heading":undefined}get nonFixedInternalHeader(){return!this._hasHeader&&!this.fixed}get hasHeaderOrHeaderText(){return this._hasHeader||this.headerText}get nonFocusableButton(){return!this.header.length}get styles(){return{content:{display:this._contentExpanded?"block":"none"}}}static async onDefine(){A.i18nBundle=await(0,h.getI18nBundle)("@ui5/webcomponents")}};B([(0,n.default)()],w.prototype,"headerText",void 0);B([(0,n.default)({type:Boolean})],w.prototype,"fixed",void 0);B([(0,n.default)({type:Boolean})],w.prototype,"collapsed",void 0);B([(0,n.default)({type:Boolean})],w.prototype,"noAnimation",void 0);B([(0,n.default)({type:b.default,defaultValue:b.default.Form})],w.prototype,"accessibleRole",void 0);B([(0,n.default)({type:m.default,defaultValue:m.default.H2})],w.prototype,"headerLevel",void 0);B([(0,n.default)()],w.prototype,"accessibleName",void 0);B([(0,n.default)({type:Boolean})],w.prototype,"stickyHeader",void 0);B([(0,n.default)({type:Boolean})],w.prototype,"useAccessibleNameForToggleButton",void 0);B([(0,n.default)({type:Boolean})],w.prototype,"_hasHeader",void 0);B([(0,n.default)({type:Boolean,noAttribute:true})],w.prototype,"_contentExpanded",void 0);B([(0,n.default)({type:Boolean,noAttribute:true})],w.prototype,"_animationRunning",void 0);B([(0,o.default)()],w.prototype,"header",void 0);w=A=B([(0,a.default)({tag:"ui5-panel",fastNavigation:true,languageAware:true,renderer:r.default,template:y.default,styles:_.default,dependencies:[f.default,g.default]}),(0,i.default)("toggle")],w);w.define();var R=w;e.default=R});
//# sourceMappingURL=Panel.js.map