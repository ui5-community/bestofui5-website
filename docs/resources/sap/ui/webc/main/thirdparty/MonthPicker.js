sap.ui.define(["exports","sap/ui/webc/common/thirdparty/base/decorators/customElement","sap/ui/webc/common/thirdparty/base/decorators/property","sap/ui/webc/common/thirdparty/base/decorators/event","sap/ui/webc/common/thirdparty/localization/getCachedLocaleDataInstance","sap/ui/webc/common/thirdparty/localization/dates/convertMonthNumbersToMonthNames","sap/ui/webc/common/thirdparty/localization/dates/transformDateToSecondaryType","sap/ui/webc/common/thirdparty/localization/dates/CalendarDate","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/types/Integer","sap/ui/webc/common/thirdparty/base/locale/getLocale","sap/ui/webc/common/thirdparty/base/i18nBundle","./generated/i18n/i18n-defaults","./CalendarPart","./generated/templates/MonthPickerTemplate.lit","./generated/themes/MonthPicker.css"],function(e,t,s,a,i,n,o,r,m,l,d,c,p,h,f,u){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;t=y(t);s=y(s);a=y(a);i=y(i);n=y(n);o=y(o);r=y(r);l=y(l);d=y(d);h=y(h);f=y(f);u=y(u);function y(e){return e&&e.__esModule?e:{default:e}}var _=void 0&&(void 0).__decorate||function(e,t,s,a){var i=arguments.length,n=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,s):a,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,s,a);else for(var r=e.length-1;r>=0;r--)if(o=e[r])n=(i<3?o(n):i>3?o(t,s,n):o(t,s))||n;return i>3&&n&&Object.defineProperty(t,s,n),n};var g;const T=12;const b=3;let M=g=class e extends h.default{static async onDefine(){g.i18nBundle=await(0,c.getI18nBundle)("@ui5/webcomponents")}get roleDescription(){return g.i18nBundle.getText(p.MONTH_PICKER_DESCRIPTION)}onBeforeRendering(){this._buildMonths()}onAfterRendering(){if(!this._hidden){this.focus()}}_buildMonths(){if(this._hidden){return}const e=(0,i.default)((0,d.default)());const t=e.getMonthsStandAlone("wide",this._primaryCalendarType);const s=[];const a=this._calendarDate;const n=this._minDate;const o=this._maxDate;const m=new r.default(a,this._primaryCalendarType);let l;for(let e=0;e<12;e++){m.setMonth(e);l=m.valueOf()/1e3;const i=this.selectedDates.some(e=>{const t=r.default.fromTimestamp(e*1e3,this._primaryCalendarType);return t.getYear()===m.getYear()&&t.getMonth()===m.getMonth()});const d=m.getMonth()===a.getMonth();const c=this._isOutOfSelectableRange(m,n,o);const p={timestamp:l.toString(),focusRef:d,_tabIndex:d?"0":"-1",selected:i,ariaSelected:i?"true":"false",name:t[e],nameInSecType:this.secondaryCalendarType&&this._getDisplayedSecondaryMonthText(l).text,disabled:c,classes:"ui5-mp-item"};if(i){p.classes+=" ui5-mp-item--selected"}if(c){p.classes+=" ui5-mp-item--disabled"}const h=Math.floor(e/b);if(s[h]){s[h].push(p)}else{s[h]=[p]}}this._months=s}_getDisplayedSecondaryMonthText(e){const t=(0,o.default)(this._primaryCalendarType,this.secondaryCalendarType,e);return(0,n.default)(t.firstDate.getMonth(),t.lastDate.getMonth(),this.secondaryCalendarType)}_onkeydown(e){let t=true;if((0,m.isEnter)(e)){this._selectMonth(e)}else if((0,m.isSpace)(e)){e.preventDefault()}else if((0,m.isLeft)(e)){this._modifyTimestampBy(-1)}else if((0,m.isRight)(e)){this._modifyTimestampBy(1)}else if((0,m.isUp)(e)){this._modifyTimestampBy(-b)}else if((0,m.isDown)(e)){this._modifyTimestampBy(b)}else if((0,m.isPageUp)(e)){this._modifyTimestampBy(-T)}else if((0,m.isPageDown)(e)){this._modifyTimestampBy(T)}else if((0,m.isHome)(e)||(0,m.isEnd)(e)){this._onHomeOrEnd((0,m.isHome)(e))}else if((0,m.isHomeCtrl)(e)){this._setTimestamp(parseInt(this._months[0][0].timestamp))}else if((0,m.isEndCtrl)(e)){this._setTimestamp(parseInt(this._months[T/b-1][b-1].timestamp))}else{t=false}if(t){e.preventDefault()}}_onHomeOrEnd(e){this._months.forEach(t=>{const s=t.findIndex(e=>r.default.fromTimestamp(parseInt(e.timestamp)*1e3).getMonth()===this._calendarDate.getMonth());if(s!==-1){const s=e?0:b-1;this._setTimestamp(parseInt(t[s].timestamp))}})}_setTimestamp(e){this._safelySetTimestamp(e);this.fireEvent("navigate",{timestamp:this.timestamp})}_modifyTimestampBy(e,t){this._safelyModifyTimestampBy(e,"month",t);this.fireEvent("navigate",{timestamp:this.timestamp})}_onkeyup(e){if((0,m.isSpace)(e)){this._selectMonth(e)}}_selectMonth(e){e.preventDefault();const t=e.target;if(t.className.indexOf("ui5-mp-item")>-1){const e=this._getTimestampFromDom(t);this._safelySetTimestamp(e);this.fireEvent("change",{timestamp:this.timestamp})}}_hasPreviousPage(){return this._calendarDate.getYear()!==this._minDate.getYear()}_hasNextPage(){return this._calendarDate.getYear()!==this._maxDate.getYear()}_showPreviousPage(){this._modifyTimestampBy(-T,true)}_showNextPage(){this._modifyTimestampBy(T,true)}_isOutOfSelectableRange(e,t,s){const a=e.getMonth();const i=e.getYear();const n=t.getYear();const o=t.getMonth();const r=s.getYear();const m=s.getMonth();return i<n||i===n&&a<o||i>r||i===r&&a>m}};_([(0,s.default)({validator:l.default,multiple:true,compareValues:true})],M.prototype,"selectedDates",void 0);_([(0,s.default)({type:Object,multiple:true})],M.prototype,"_months",void 0);_([(0,s.default)({type:Boolean,noAttribute:true})],M.prototype,"_hidden",void 0);M=g=_([(0,t.default)({tag:"ui5-monthpicker",template:f.default,styles:u.default}),(0,a.default)("change"),(0,a.default)("navigate")],M);M.define();var v=M;e.default=v});
//# sourceMappingURL=MonthPicker.js.map