{"version":3,"file":"XmlTreeModifier.js","names":["sap","ui","define","BaseTreeModifier","ManagedObject","DataType","merge","XMLHelper","EventHandlerResolver","ObjectPath","isPlainObject","Fragment","CUSTOM_DATA_NS","async","insertAggregation","oParent","sName","oObject","iIndex","oView","bSkipAdjustIndex","oFoundAggregationNode","oAggregationNode","sNamespaceURI","namespaceURI","this","createControl","undefined","appendChild","aChildren","children","iOffset","iStopIndex","length","i","tagName","includes","childElementCount","aReferenceNodes","_getControlsInAggregation","insertBefore","XmlTreeModifier","targets","setVisible","oControl","bVisible","removeAttribute","setAttribute","getVisible","getProperty","setStashed","bStashed","getStashed","Promise","all","then","aProperties","bindProperty","sPropertyName","vBindingInfos","unbindProperty","_setProperty","vPropertyValue","bEscapeBindingStrings","sValue","_getSerializedValue","_escapeCurlyBracketsInString","setProperty","oPropertyInfo","oType","getAttribute","getControlMetadata","oMetadata","getType","getControlType","oKeyProperty","getDefaultValue","vUnescaped","bindingParser","path","parts","parseValue","isPropertyInitial","setPropertyBinding","sPropertyBinding","Error","getPropertyBinding","createAndAddCustomData","sCustomDataKey","setAttributeNS","resolve","getCustomDataInfo","oCustomData","attributes","customData","customDataValue","value","sClassName","oAppComponent","oSelector","mSettings","bAsync","sId","sLocalName","oError","bySelector","aClassNameParts","split","pop","join","oNewElementNode","ownerDocument","createElementNS","getControlIdBySelector","applySettings","reject","mMetadata","getJSONKeys","Object","keys","forEach","sKey","oKeyInfo","vValue","_iKind","setAssociation","_byId","getElementById","querySelector","getId","getParent","parentNode","_isExtensionPoint","_getLocalName","xmlElement","localName","baseName","nodeName","_getControlTypeInXml","vParent","getAssociation","getAllAggregations","oControlMetadata","getAggregation","bSingleValueAggregation","_isSingleValueAggregation","bSingleValueAggregationReturn","_findAggregationNode","aChildrenLocal","_isAltTypeAggregation","isAltTypeAggregation","oChild","push","mCustomSettings","aNewCustomData","Array","prototype","slice","call","reduce","aNamespacedCustomData","oAttribute","oNewCustomData","name","indexOf","hasOwnProperty","nodeValue","concat","removeAggregation","removeChild","moveAggregation","oSourceParent","sSourceAggregationName","oTargetParent","sTargetAggregationName","oSourceAggregationNode","oTargetAggregationNode","replaceAllAggregation","sAggregationName","aNewControls","aChildControls","oChildControl","removeAllAggregation","_children","oNode","oPromise","_isDefaultAggregation","bind","bIsDefaultAggregation","oDefaultAggregation","getDefaultAggregation","_isNotNamedAggregationNode","oChildNode","mAllAggregatiosnMetadata","oAggregation","oAggregationMetadata","multiple","altTypes","_getControlMetadataInXml","map","bIsNotNamedAggregationNode","filter","childNodes","nodeType","ELEMENT_NODE","getBindingTemplate","updateAggregation","findIndexInParentAggregation","getParentAggregationName","aControlsInAggregation","isArray","aPromises","oProperty","isSameNode","bNotNamedAggregation","getDefaultAggregationName","findAggregation","oAggregations","validateType","mAggregationMetadata","sFragment","sTypeOrInterface","type","load","definition","aControls","bReturn","isA","oFragmentControl","destroy","instantiateFragment","sNamespace","oFragment","parse","_checkAndPrefixIdsInFragment","_getElementNodeChildren","templateControlFragment","sFragmentName","mPreprocessorSettings","_templateFragment","_getFlexCustomData","sType","getAttributeNS","attachEvent","sEventName","sFunctionPath","vData","fnCallback","aEventHandlers","sEventHandler","aParams","JSON","stringify","detachEvent","iEventHandlerIndex","findIndex","splice","bindAggregation","template","unbindAggregation","hasAttribute","getExtensionPointInfo","sExtensionPointName","aExtensionPoints","getElementsByTagNameNS","aFilteredExtensionPoints","oExtPoint","oExtensionPoint","oExtensionPointInfo","parent","aggregationName","index","defaultContent"],"sources":["XmlTreeModifier-dbg.js"],"mappings":"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"}