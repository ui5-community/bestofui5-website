{"version":3,"file":"JsControlTreeModifier.js","names":["sap","ui","define","BindingParser","BaseTreeModifier","XmlTreeModifier","ObjectPath","XMLHelper","merge","Element","Fragment","JsControlTreeModifier","targets","setVisible","oControl","bVisible","this","unbindProperty","Error","getVisible","Promise","resolve","reject","setStashed","bStashed","unstash","isStashed","getStashed","then","bIsVisible","bindProperty","sPropertyName","vBindingInfos","setProperty","vPropertyValue","oMetadata","getMetadata","getPropertyLikeSetting","oBindingParserResult","bError","complexParser","undefined","error","_isSerializable","_escapeCurlyBracketsInString","sPropertySetter","_sMutator","TypeError","getProperty","oProperty","sPropertyGetter","_sGetter","isPropertyInitial","setPropertyBinding","oPropertyBinding","mSettings","applySettings","getPropertyBinding","getBindingInfo","createAndAddCustomData","sCustomDataKey","sValue","oAppComponent","createControl","oCustomData","insertAggregation","bind","getCustomDataInfo","getCustomData","some","oCurrentCustomData","getKey","customData","customDataValue","getValue","sClassName","oView","oSelector","replace","bySelector","sErrorMessage","id","oPromise","oClassObject","require","fnResolve","fnReject","ClassObject","sId","getControlIdBySelector","_byId","getElementById","getId","getParent","getControlMetadata","getControlType","getName","setAssociation","vParent","sName","getAssociation","set","get","getAllAggregations","oParent","getAggregation","findAggregation","oAggregation","async","oObject","iIndex","multiple","iInsertIndex","_sInsertMutator","removeAggregation","_sRemoveMutator","moveAggregation","oSourceParent","sSourceAggregationName","oTargetParent","sTargetAggregationName","oSourceAggregation","oTargetAggregation","replaceAllAggregation","sAggregationName","aNewControls","_sRemoveAllMutator","forEach","oNewControl","removeAllAggregation","getBindingTemplate","oBinding","template","updateAggregation","getBinding","_sDestructor","findIndexInParentAggregation","getParentAggregationName","sParentAggregationName","aControlsInAggregation","Array","isArray","indexOf","oAggregations","validateType","oAggregationMetadata","sFragment","sTypeOrInterface","type","name","length","isA","instantiateFragment","sNamespace","oFragment","parse","_checkAndPrefixIdsInFragment","load","definition","controller","getController","vNewControls","templateControlFragment","sFragmentName","mPreprocessorSettings","_templateFragment","oController","destroy","bSuppressInvalidate","_getFlexCustomData","sType","data","attachEvent","sEventName","sFunctionPath","vData","fnCallback","detachEvent","bindAggregation","oBindingInfo","unbindAggregation","getExtensionPointInfo","sExtensionPointName","oViewNode","_xContent","oExtensionPointInfo","index","parent","createId","getAttribute","defaultContent","map","oNode","filter"],"sources":["JsControlTreeModifier-dbg.js"],"mappings":"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"}