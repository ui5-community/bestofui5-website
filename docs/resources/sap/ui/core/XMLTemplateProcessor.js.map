{"version":3,"file":"XMLTemplateProcessor.js","names":["sap","ui","define","DataType","BindingInfo","CustomData","Component","View","ViewType","XMLProcessingMode","EventHandlerResolver","ExtensionPoint","StashedControlSupport","SyncPromise","Log","ObjectPath","assert","LoaderExtensions","JSTokenizer","each","isEmptyObject","DesignTime","Library","parseScalarType","sType","sValue","sName","oContext","oRequireModules","aTypePromises","bResolveTypesAsync","oBindingInfo","oBindingParseResult","parse","push","resolved","bindingInfo","vValue","oType","getType","parseValue","context","locals","isValid","error","getName","Error","escape","localName","xmlNode","nodeName","XHTML_NAMESPACE","XMLNS_NAMESPACE","SVG_NAMESPACE","CORE_NAMESPACE","CORE_MVC_NAMESPACE","CUSTOM_DATA_NAMESPACE","SUPPORT_INFO_NAMESPACE","XML_COMPOSITE_NAMESPACE","UI5_INTERNAL_NAMESPACE","PREPROCESSOR_NAMESPACE_PREFIX","VIEW_SPECIAL_ATTRIBUTES","rVoidTags","getHandleChildrenStrategy","bAsync","fnCallback","syncStrategy","node","mOptions","pChild","aChildren","i","childNodes","length","unwrap","resolve","asyncStrategy","pChain","Promise","aChildPromises","chain","then","bind","all","XMLTemplateProcessor","loadTemplate","sTemplateName","sExtension","sResourceName","replace","loadResource","documentElement","loadTemplatePromise","async","oResult","parseViewAttributes","oView","attr","attributes","includes","name","value","enrichTemplateIds","enrichTemplateIdsPromise","parseTemplate","mSettings","parseTemplatePromise","settings","oParseConfig","vResult","isA","vContent","_isExtensionPoint","aSpliceArgs","concat","_aControls","Array","prototype","splice","apply","validateRequireContext","oRequireContext","sErrorMessage","rIdentifier","Object","keys","some","sKey","test","parseAndLoadRequireContext","sCoreContext","getAttributeNS","oModules","parseJS","e","reject","bAllLoaded","reduce","bAll","require","undefined","values","aLoadedModules","arguments","forEach","requireSync","fnTriggerExtensionPointProvider","oTargetControl","mAggregationsWithExtensionPoints","pProvider","aAppliedExtensionPoints","fnResolveExtensionPoints","sAggregationName","aExtensionPoints","oExtensionPoint","targetControl","fnExtClass","providerClass","applyExtensionPoint","p","ExtensionPointProvider","findNamespacePrefix","namespace","prefix","sCandidate","iCount","sRegisteredNamespace","lookupNamespaceURI","bEnrichFullIds","aResult","sInternalPrefix","pResultChain","rm","openStart","tagName","sId","voidStart","style","class","clazz","openEnd","voidEnd","text","str","unsafeHtml","close","renderControl","pContent","requireContext","mRequireContext","assign","_sProcessingMode","debug","bDesignMode","isDesignModeEnabled","_sapui_declarativeSourceInfo","xmlRootNode","_oContainingView","isSubView","setAttributeNS","bWrapped","processNode","resolveResultPromises","vElement","spliceContentIntoResult","args","oWrapper","parentNode","removeChild","replaceChild","identity","createId","createErrorInfo","vError","getMetadata","sNodeSerialization","outerHTML","cloneNode","textContent","getId","normalizeRootNode","sNodeName","namespaceURI","ownerDocument","createElementNS","oOldParent","appendChild","sCurrentName","sViewName","_sFragmentName","oNewRoot","oTopView","iLoopCounter","createRegularControls","getClass","rootArea","rootNode","handleChildren","childNode","nodeType","createControls","scopedRunWithOwner","fnCreation","fnScopedRunWithOwner","findControlClass","sNamespaceURI","sLocalName","sClassName","mLibraries","sLibName","oLibrary","tagNames","validateClass","fnClass","sErrorLogMessage","get","oClassObject","pRequireContext","oClosestBinding","oAggregation","oConfig","bRootArea","bRootNodeInSubView","bRenderingRelevant","pResult","contentBound","bXHTML","getAttribute","aAttributes","sTextContent","document","createElement","oAttr","setAttribute","bVoid","toLowerCase","firstChild","pSelfRequireContext","aContexts","oContent","HTMLTemplateElement","content","closestBinding","aggregation","config","aResults","acc","vControls","isArray","oControl","id","fnCreateView","oViewClass","mViewParameters","containingView","processingMode","XMLView","createControlOrExtension","trim","oContainer","fnExtensionPointFactory","_factory","aChildControlPromises","children","oChildNode","aChildControl","aDefaultContent","aControls","sControlName","iControlNameStart","lastIndexOf","substring","sNameOrId","warning","vClass","oClass","ns","sStyleClasses","aCustomData","mCustomSettings","sSupportData","bStashedControl","bViewRootNode","removeAttribute","oMetadata","mKnownSettings","getAllSettings","aRequiredModules","sNamespace","oInfo","oController","objectBindings","model","mMetaContextsInfo","_calculatedModelMapping","message","metadataContexts","_preprocessMetadataContexts","indexOf","key","startsWith","visible","_iKind","type","hasOwnProperty","nodeValue","altTypes","split","filter","map","aEventHandlers","sEventHandler","vEventHandler","resolveEventHandler","_supportInfo","env","caller","info","customData","catch","oError","isEnriched","SequentialLegacy","handleChild","mAggregations","allAggregations","oNamedAggregation","fnCreateStashedControl","querySelector","oStashedNode","sControlId","createStashedControl","wrapperId","fnCreate","bPrevAsync","setUI5Attribute","path","j","aExtensionPointList","index","aggregationName","closestAggregationBindingCarrier","closestAggregationBinding","oLast","_nextSibling","multiple","template","getElementName","getDefaultAggregation","getAllAggregations","vNewControlInstance","pInstanceCreated","oOwnerComponent","getOwnerComponentFor","bIsAsyncComponent","hasAttribute","setId","_sType","viewName","getComponentName","create","sViewClass","_getViewClassName","_create","JS","sFragmentPath","Fragment","fragmentName","load","oFragmentContent","fnCreateInstance","oInstance","applySettings","fnRunWithPreprocessor","vFinalInstance","addStyleClass","iLength","iSupportIndex","nodeid","controlid","sData","addSupportInfo","getCompositeAggregationName","aNodes","getElementsByTagName","sPrefix","sBinding","bAllowMultipleBindings","oCtx","mBinding","oBinding","checkFormatter","aFragments","formatter","parts","textFragments"],"sources":["XMLTemplateProcessor-dbg.js"],"mappings":"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"}