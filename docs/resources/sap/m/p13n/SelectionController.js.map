{"version":3,"file":"SelectionController.js","names":["sap","ui","define","diff","BaseObject","merge","deepEqual","SelectionPanel","xConfigAPI","Configuration","View","SelectionController","extend","constructor","mSettings","call","this","_oAdaptationControl","control","_aStableKeys","stableKeys","Error","_sTargetAggregation","targetAggregation","_fSelector","getKeyForItem","_oP13nData","_bLiveMode","_bResetEnabled","_bReorderingEnabled","hasOwnProperty","enableReorder","prototype","getAdaptationControl","getTargetAggregation","getChangeOperations","add","remove","move","getSelectorForReset","sanityCheck","oState","initAdaptationUI","oPropertyHelper","oAdaptationData","mixInfoAndState","_oPanel","createUI","Promise","resolve","oSelectionPanel","showHeader","enableCount","setEnableReorder","setP13nData","items","getViewForControl","oControl","getParent","_calcPresentState","aState","aAggregationItems","getAggregation","oView","forEach","oItem","iIndex","sKey","data","sId","getLocalId","getId","vRelevant","getVisible","push","key","getCurrentState","oXConfig","readConfig","oItemXConfig","aggregations","aItemXConfig","Object","entries","oConfig","position","visible","sort","a","b","aStateKeys","map","o","iCurrentIndex","indexOf","iNewIndex","bVisible","bReordered","undefined","length","splice","getStateKey","getDelta","mPropertyBag","sPresenceAttribute","_getPresenceAttribute","externalAppliance","aNewStatePrepared","fnFilterUnselected","applyAbsolute","changedState","filter","_getFilledArray","existingState","mExistingState","arrayToMap","mNewState","iStableIndex","bind","getArrayDeltaChanges","mDeltaInfo","aExistingArray","aChangedArray","sInsertOperation","changeOperations","sRemoveOperation","sMoveOperation","aDeltaAttributes","deltaAttributes","mDeleteInsert","_calculateDeleteInserts","aChanges","_createAddRemoveChanges","deletes","aExistingArrayWithoutDeletes","_removeItems","aChangedArrayWithoutnserts","inserts","aMoveChanges","_createMoveChanges","concat","aInsertChanges","aExistingItems","aChangedItems","sOperation","fnSymbol","sDiff","sAttribute","INSERT_TYPE","DELETE_TYPE","aDeleted","aInserted","aDiff","i","sType","type","index","j","nIndex","name","fnFilter","item","nDeleted","nInserted","isNotFirstElement","hasDeletions","hasInsertionAbundance","hasDeletionAbundance","shouldDecrease","shouldIncrease","_createMoveChange","Math","min","aItems","_createAddRemoveChange","_getChangeContent","aTarget","aResultingTarget","_indexOfByKeyName","aArray","some","nIdx","aSource","mDeleteInserts","_verifyDeltaAttributes","oSource","oTarget","bReturn","sAttr","oProperty","oChangeContent","oContent","value","oAddRemoveChange","selectorElement","changeSpecificData","changeType","content","sPropertykey","oMoveChange","bexternalAppliance","getBeforeApply","aItemState","mItemState","oP13nData","prepareAdaptationData","mItem","oExisting","sortP13nData","getP13nData","_oAdaptationModel","getProperty","model2State","update","isDestroyed","setProperty","itemsGrouped","aPreviousItems","aNewItems","sRemoveProperty","aNewItemsPrepared","aNewItemState","mExistingItems","oExistingItem","iNewPosition","iOldPosition","getPropertySetterChanges","aExistingState","aChangedState","operation","sSetAttribute","deltaAttribute","aSetterChanges","find","vOldValue","vNewValue","bValueChanged","changesToState","oChange","oStateDiffContent","fnEnhace","bGroupData","mItemsGrouped","bEnhance","Function","getProperties","bIsValid","label","tooltip","group","groupLabel","_buildGroupStructure","aGroupedItems","keys","sGroupKey","getCore","getLibraryResourceBundle","getText","groupVisible","oSorting","mP13nTypeSorting","sPositionAttribute","sSelectedAttribute","sLocale","getLocale","toString","oCollator","window","Intl","Collator","mField1","mField2","compare","reduce","mMap","oProp","destroy","apply","arguments"],"sources":["SelectionController-dbg.js"],"mappings":"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"}