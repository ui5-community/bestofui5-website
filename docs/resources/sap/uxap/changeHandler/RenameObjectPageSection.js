/*!
 * OpenUI5
 * (c) Copyright 2009-2025 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/changeHandler/BaseRename"],function(e,t,r){"use strict";var n={propertyName:"title",changePropertyName:"newText",translationTextType:"XGRP"};var o=r.createRenameChangeHandler(n);o._getControlForRename=function(e,t){var r,n;return Promise.resolve().then(function(){return t.getAggregation(e,"subSections")}).then(function(n){r=n;if(r.length!==1){return[]}return Promise.all([t.getPropertyBindingOrProperty(r[0],"title"),t.getProperty(t.getParent(e),"subSectionLayout")])}).then(function(t){n=t[0];if(r&&r.length===1&&n&&typeof n==="object"||typeof n==="string"&&n.trim()!==""&&t[1]==="TitleOnTop"){return r[0]}return e})};o.applyChange=function(e,t,r){var a=r.modifier;var i=n.propertyName;var g=e.getText(n.changePropertyName);if(g&&typeof g==="string"){return o._getControlForRename(t,a).then(function(t){if(g.trim()===""){throw new Error("Change cannot be applied as ObjectPageSubSection's title cannot be empty")}return a.getPropertyBindingOrProperty(t,i).then(function(r){e.setRevertData(r);a.setPropertyBindingOrProperty(t,i,g);return true})})}};o.revertChange=function(t,r,a){var i=t.getRevertData(),g=a.modifier,u=n.propertyName;return o._getControlForRename(r,g).then(function(r){if(i||i===""){g.setPropertyBindingOrProperty(r,u,i);t.resetRevertData();return true}else{e.error("Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.")}})};o.getChangeVisualizationInfo=function(e,r){var o=e.getTexts()&&e.getTexts()[n.changePropertyName];var a=e.getSelector();var i=t.bySelector(a,r);var g=i.getParent().getAggregation("_anchorBar");var u=[i.getId()];var c=[i.getId()];g.getAggregation("content").forEach(function(e){e.getAggregation("customData").some(function(t){if(t.getKey()==="sectionId"&&i.getId()===t.getProperty("value")){c.push(e.getId())}})});return{descriptionPayload:{originalLabel:e.getRevertData(),newLabel:o&&o.value},affectedControls:u,displayControls:c}};return o},true);
//# sourceMappingURL=RenameObjectPageSection.js.map