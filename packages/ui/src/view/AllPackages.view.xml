<mvc:View
  controllerName="org.openui5.ui5community.controller.AllPackages"
  xmlns:mvc="sap.ui.core.mvc"
  displayBlock="true"
  xmlns="sap.m"
  xmlns:ui5cc="org.openui5.ui5community.control"
  xmlns:core="sap.ui.core"
>
  <Select id="selectSort" forceSelection="true" change=".onSortSelectChange" selectedKey="{settings>/selectKey}">
    <core:Item key="downloads14" text="By downloads last 14 days" />
    <core:Item key="downloads30" text="By downloads last 30 days" />
    <core:Item key="downloads365" text="By downloads last 365 days" />
    <core:Item key="updatedAt" text="By date of last update" />
    <core:Item key="createdAt" text="By date of creation" />
    <core:Item key="addedToBoUI5" text="By date of addition on Best of UI5" />
  </Select>
  <List id="listAllPackages" headerText="Packages" mode="None" items="{path: 'data>/packages/'}" width="{= ${device>/system/phone} === true ? '' : '1024px' }">
    <CustomListItem id="_IDGenCustomListItem1" type="Navigation" press="onPress">
      <ui5cc:PackageListItemContent
        name="{data>name}"
        githublink="{data>githublink}"
        npmlink="{data>npmlink}"
        description="{
          parts: ['data>description', 'settings>/search'],
          formatter: '.formatter.formatHighlight'
        }"
        type="{data>type}"
        stars="{data>stars}"
        forks="{data>forks}"
        updatedAt="{= ${settings>/selectKey} === 'updatedAt' ? ${data>updatedAt} : undefined }"
        createdAt="{= ${settings>/selectKey} === 'createdAt' ? ${data>createdAt} : undefined }"
        addedToBoUI5="{= ${settings>/selectKey} === 'addedToBoUI5' ? ${data>addedToBoUI5} : undefined }"
        downloads14="{= ${settings>/selectKey} === 'downloads14' ? ${data>downloadsCurrentFortnight} : -1 }"
        downloads30="{= ${settings>/selectKey} === 'downloads30' ? ${data>downloadsCurrentMonth} : -1 }"
        downloads365="{= ${settings>/selectKey} === 'downloads365' ? ${data>downloads365} : -1 }"
      />
    </CustomListItem>
  </List>
</mvc:View>
