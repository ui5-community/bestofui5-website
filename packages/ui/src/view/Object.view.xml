<mvc:View
  controllerName="org.openui5.ui5community.controller.Object"
  xmlns:m="sap.m"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns:form="sap.ui.layout.form"
  xmlns:md="cc.md"
  xmlns="sap.uxap"
  xmlns:layout="sap.ui.layout"
  xmlns:tnt="sap.tnt"
  xmlns:cc="org.openui5.ui5community.control"
  displayBlock="true"
  height="100%"
>
  <ObjectPageLayout alwaysShowContentHeader="true" id="ObjectPageLayout" upperCaseAnchorBar="false" height="100%" class="fixImageWidth">
    <headerTitle>
      <ObjectPageHeader id="headerForTest" objectTitle="{data>name}" objectSubtitle="{data>description}" titleSelectorTooltip="Custom Tooltip" />
    </headerTitle>
    <headerContent>
      <layout:VerticalLayout>
        <m:ObjectStatus title="Author" text="{data>author}" />
        <m:ObjectStatus title="License" text="{data>license}" />
        <m:Link text="GitHub" href="{data>githublink}" target="_blank" />
        <m:Link text="NPM" href="{data>npmlink}" target="_blank" />
      </layout:VerticalLayout>
      <layout:VerticalLayout>
        <tnt:InfoLabel id="downloads365" text="Downloads last 365 days {data>downloads365}" renderMode="Loose" colorScheme="5" visible="{= ${data>downloads365} >= 0}" />
        <tnt:InfoLabel id="downloads30" text="Downloads last 30 days {data>downloads30}" renderMode="Loose" colorScheme="5" visible="{= ${data>downloads30} >= 0}" />
        <tnt:InfoLabel id="version" text=" Version {data>version}" renderMode="Loose" colorScheme="3" visible="{= !!${data>version}}" />
      </layout:VerticalLayout>
      <layout:VerticalLayout>
        <m:ObjectStatus title="Created At" text="{
					path: 'data>createdAt',
					type: 'sap.ui.model.type.DateTime',
					formatOptions: {
						source: {pattern: 'yyyy-MM-ddTHH:mm:ss.SSSX'},
						pattern: 'dd.MM.yyyy'
					}
				}" />
        <m:ObjectStatus title="Last update" text="{
					path: 'data>updatedAt',
					type: 'sap.ui.model.type.DateTime',
					formatOptions: {
						source: {pattern: 'yyyy-MM-ddTHH:mm:ss.SSSX'},
						pattern: 'dd.MM.yyyy'
					}
				}" />
      </layout:VerticalLayout>
    </headerContent>
    <sections>
      <ObjectPageSection id="npmSection">
        <subSections>
          <ObjectPageSubSection title="npm downloads" id="npmDownloadsSection">
            <blocks>
              <cc:BarChart title="NPM Downloads per Month" color="#0070f2" records="{data>downloadsHistory}">
                <cc:ChartRecord label='{data>yearMonth}' value="{data>downloads}" />
              </cc:BarChart>
            </blocks>
          </ObjectPageSubSection>
          <ObjectPageSubSection title="readme" id="readme" titleUppercase="false">
            <blocks>
              <md:Markdown id="test2" content="{data>readme}" baseURL="https://raw.githubusercontent.com/{data>gitHubOwner}/{data>gitHubRepo}/main///" class="wrapCodeText" />
            </blocks>
          </ObjectPageSubSection>
        </subSections>
      </ObjectPageSection>
    </sections>
  </ObjectPageLayout>
</mvc:View>
